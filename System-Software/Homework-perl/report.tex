\documentclass[listings]{labreport}
\departmentsubject{Кафедра вычислительной техники}{Системное программное обеспечение}
\titleparts{Самостоятельная работа №2}{Знакомство с Perl}
\students{Лабушев Тимофей Михайлович}

\begin{document}

\maketitlepage

\section*{Регулярные выражения}

\begin{itemize}
\item \verb|perl -e '$var = "abc123"; print ($var =~ /./ or 0);'|

Результат применения выражения — \texttt{1},
поскольку ему соответствует любая непустая строка.

\item \verb|perl -e '$var = "abc123"; print ($var =~ /[A-Z]*^/ or 0);'|

Результат = \texttt{1}, поскольку \verb|^| означает начало строки, а \verb|*|
указывает на то, что заглавная буква может не встретиться до начала строки.

\item \verb|perl -e '$var = "abc123"; print ($var =~ /(\d)2(\1)/ or 0);'|

Результат = \texttt{0}, поскольку \verb|\1| ссылается на первую группу,
которая, в свою очередь, выбирает одну цифру. Выражению соответствует
любоая строка, содержащая две одинаковые цифры, между которыми помещена цифра 2.

\item \verb|perl -e '$var = "abc123"; print ($var =~ /abc$/ or 0);'|

Результат = \texttt{0}, поскольку выражению соответствуют лишь те строки,
которые заканчиваются последовательностью \texttt{abc}.

\item \verb|perl -e '$var = "abc123"; print ($var =~ /1234?/ or 0);'|

Результат = \texttt{1}. Выражению соответствует любая строка, содержащая
\texttt{123} или \texttt{1234}.
\end{itemize}

\section*{Подстановки}

\begin{itemize}
\item \verb|perl -e '$var = "abc123abc"; $var =~ s/abc/def/; print $var;'|

Результат = \texttt{def123abc}. Без флага \verb|g| заменяется только первое
вхождение выражения \verb|abc|.

\item \verb|perl -e '$var = "abc123abc"; $var =~ s/(?<=\d)[a-z]+/X/g; print $var;'|

Результат = \texttt{abc123X}. \verb|(?<=)| — позитивный просмотр назад (\textit{positive lookbehind}),
который устанавливает, что выражение в группе (в данном случае одна цифра) должно предшествовать
одной или нескольким строчным буквам (\verb|[a-z]+|).

\item \verb|perl -e '$var = "abc123abc"; $var =~ s/B/W/i; print $var;'|

Результат = \texttt{aWc123abc}. При наличии флага \verb|i| проверка выражения производится
без учета регистра, соответственно, заменяется первое вхождение \texttt{B} или \texttt{b}.

\item \verb|perl -e '$var = "abc123abc"; $var =~ s/(.)\d.*\1/d/; print $var;'|

Результат = \texttt{abd}. Выражение ищет любой символ, за которым следует цифра, за которой
следует любая последовательность, заканчивающаяся символом, найденным перед цифрой. 

\item \verb|perl -e '$var = "abc123abc"; $var =~ s/(\d+)/$1*2/e; print $var;'|

Результат = \texttt{abc246abc}. Число, найденное последовательностью, заменяется
на число, в два раза его превышающее. Это возможно благодаря флагу \verb|e|,
которое выполняет правую часть подстановки как выражение и подставляет результат.

\end{itemize}

\section*{Расширенные шаблоны}

\begin{itemize}
\item \verb=/a|bc*/=

Оператор \verb=|= имеет наименьший приоритет, поэтому выражению соответствует
символ \texttt{a} или последовательность, начинающаяся с \texttt{b} и заканчивающаяся
нулем или больше символом \texttt{c}.

\item \verb=/[\d]{1,3}/=

\verb|[\d]| — любая цифра, \verb|{1,3}| — встречается от одного до трех раз.

\item \verb=/\bc[aou]t\b/=

\verb|\b| соответствует началу или концу слова (любому символу, не являющемуся
цифрой, буквой, нижним подчеркиванием). \verb|[aou]| выбирает любой символ из набора.
Таким образом, выражению соответствуют слова \texttt{cat}, \texttt{cut}, \texttt{cot}.

\item \verb=/(xy+z)\.\1/=

\verb|(xy+z)| выбирает последовательность, начинающуюся с \texttt{x}, оканчивающуюся
на \texttt{z} и содержащую между ними один или больше символов \texttt{y}. Затем
следует любой символ, и последовательность повторяется.

\item \verb=/^$/=

Выражению соответствует пустая строка.

\end{itemize}

\section*{Написание шаблонов}

\begin{itemize}
\item не менее пяти маленьких латинских букв, либо буква \texttt{a}, если она стоит в начале строки

\begin{verbatim}
/[a-z]{5,}|^a/
\end{verbatim}

\item цифра \texttt{1} или слово \texttt{one} (в любом регистре)

\begin{verbatim}
/1|one/i
\end{verbatim}

\item число, возможно, дробное (с десятичной точкой)

\begin{verbatim}
/\d+(.\d+)?/
\end{verbatim}

\item любая буква, за которой следует гласная, повторяется еще раз (пример: \texttt{pop}, \texttt{fifth}, \texttt{daddy})

\begin{verbatim}
/([A-Za-z])[aeiouAEIOU]\1/
\end{verbatim}

\item хотя бы один \texttt{+}

\begin{verbatim}
/[+]+/
/\++/
\end{verbatim}

\end{itemize}

\end{document}
